---
import MainContent from '@components/MainContent.astro';
import Menu from '@components/menu/Menu';
import l from '@data/vi.json';
import Layout from '@layouts/Layout.astro';
import '@styles/global.scss';
---

<Layout lang='vi' title={l.aboutUs.kyons}>
  <Menu l={l} client:only='preact' />
  <MainContent l={l} />
</Layout>
<!-- Fixing browser bug -->
<script>
  if (window.addEventListener) {
    window.addEventListener(
      'load',
      () => {
        console.log('RUN');
        if (location.hash && location.hash !== '#') {
          const anchorLocation = decodeURIComponent(location.hash);
          const anchorElement: HTMLElement | null = document.querySelector(anchorLocation);
          if (anchorElement == null) return;
          setTimeout(() => {
            anchorElement.scrollIntoView();
          }, 100);
        }
      },
      false
    );
  }
</script>
